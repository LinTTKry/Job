# 垃圾回收

| 引数计数                                                                            | 标记计数                                                                                     |
| ------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------- |
| 对象有没有其他对象引用                                                                     | 对象是否可以获得                                                                                 |
| <p>记录对象的引用次数，每次新建对象，</p><p>赋值引用和删除引用的同时更新计数器，</p><p>若为0则回收内存</p>                | <p>垃圾回收定期的从根开始，</p><p>找所有从根开始引用的对象并标记，</p><p>然后找这些对象引用的对象，</p><p>那些无法从根对象访问到的对象都会被清除</p> |
| <p>缺点：无法处理循环引用，</p><p>两个对象彼此引用，在调用后离开</p><p>函数作用域，但是因为计数器值</p><p>不为1，无法回收内存</p> | <p>循环引用不在是问题；</p><p>函数调用后，无法从全局对象找到两个对象</p>                                              |
